# The `switch` Statement

- often need to compare an expession against a series of values to see which  one it currently matches
- cascaded if can do this
- but also you can use a switch statement
```
switch (grade) {
    case 4: printf("Excellent");
            break;
    case 3: printf("Good");
            break;
    case 2: printf("Average");
            break;
    case 1: printf("Poor");
            break;
    case 0: printf("Failing");
            break;
    default: printf("Illegal grade");
             break;
}
```
- when this is executed the value of variable grade is tested against 4 3 2 1 and 0.
- then it does whatever is in the corresponding statement
- break transfers control to the statement following the switch
- if the default case applies it says illegal grade
- easier to read than cascaded if
- faster than if
most common form is 
```
switch(expression) {
    case constant-expression : statements
    ...
    case constant-expression : statements
    default : statements
}
```
- controlling expression
  - word switch must  be followed by an integer expression in parentheses
  - chars are treated as ints in C and can be tested in switch statements
  - floats and strings do not qualify
- case labels
  - each begins with a label case constant-expression :
  - constant expression is much like an ordinary one except it can't contain variables or funcction calls
  - must evaluate to an integer or char
- statements
  - after each label comes any number of statements
  - no braces required
  - last statement is normally break
- duplicate case labels arent allowed
- order of cases doesnt matter
- default doesnt nee dto come last
- only one constant expression may follow the word case
- several case labels may precede the same group of statements
```
switch (grade) {
    case 4:
    case 3:
    case 2:
    case 1: printf("Passing");
            break;
    case 0: printf("Failing");
            break;
    default: printf("Illegal grade");
             break;
}
```
Or, to save space,
```
switch (grade) {
    case 4: case 3: case 2: case 1: 
            printf("Passing");
            break;
    case 0: printf("Failing");
            break;
    default: printf("Illegal grade");
             break;
}
```
- sadly no way to write a case label to specify a range of values
- doesnt need to have a default case
- if its missinf and the thing doesnt math any of the case laels then control passes to the next statement after the switch

## The role of the `break` statement
- causes the program to 'break' out of the switch statement
- we need it because the switch is really a form of "computed jump"
  - controlling expression evaluated
  - control jumps to the case label matching the value of the switch expression
  - case label is nothing more than a marker indicating a position within the switch
  - when the last statement has been executed, control falls through to the first statement in the followig case; the case label for the next case is ignored
  - without break control will flow from one case to the next
consider
```
switch (grade) {
    case 4: printf("Excellent");
    case 3: printf("Good");
    case 2: printf("Average");
    case 1: printf("Poor");
    case 0: printf("Failing");
    default: printf("Illegal grade");
}
```
if the value of grade is 3 it will print
```
GoodAveragePoorFailingIllegal grade
```
since it's often an error if you do it on purpose, just point it out with a comment
```
switch(grade){
    case 4: case 3: case2: case 1:
            num_passing++;
            /* FALL THROUGH */
    case 0: total grades++;
            break;
}
```
last case never needs a break statement technically but it's always a good idea to add it